  

<p-growl [(value)]="messageModel" life="3000"></p-growl>

<div class="content" style="padding-right:20px;padding-left: 20px">

  <div class="well" style="    padding-bottom: 0px;margin-bottom: 0px;">
    <app-manage-component [header]="header" [iconClass]="iconClass"  (saveChange)="saveTourAttachments()"
      (cancelChange)="cancel()"></app-manage-component>

    <div class="row m-r-0">

    <div class="col-lg-12">
        <div class=" col-lg-offset-1">
		
          <div class="form-group col-lg-11" [@fadeInOut] 
            style="padding-left: 13px">
            <label class="control-label"></label>
            <div class="smart-form">
              <div class="input input-file" style="width:96%">
                <span class="button"><input id="file" name="file" (change)="onAttachmentSelect($event)" type="file">Browse</span>
                <input [(ngModel)]="file.fileName" placeholder="Include some files" readonly="" type="text">
                <div class="ui-fileupload-content ui-widget-content ui-corner-bottom image-container "  style ="max-height:500px;min-height:200px"> 
                  <div *ngFor="let file of attachments; let i = index;">
                    <div class="ui-fileupload-row col-lg-12 border-col" *ngIf="file.attachmentType === 158 && file.isActive === true"
                      [ngStyle]="{'background-color':i % 2 === 0 ?'#EDEDED':'white'}">
                      <div class="col-md-10" style="padding-top:10px">
                        <div class="col-md-5">
                        
                          <img class="image-size" *ngIf="file.attachmentId === 0 && file.attachmentType === attachmentType.Image " [src]="file.objectURL"
                          />
                          <img class="image-size" *ngIf="file.attachmentId > 0 && file.attachmentType === attachmentType.Image " src="{{ApiUrl.IMAGE_URI}}{{attachmentsFolderName}}{{file.fileName}}"
                          />

                        </div>

                        <div class="col-md-7" style="max-width: 100%">

                            <a *ngIf="file.attachmentId === 0 " href="file.objectURL" target="__blank" style="max-width: 100%;word-wrap: break-word;">{{file.fileName}}</a>
                            <a *ngIf="file.attachmentId > 0 " href="{{ApiUrl.IMAGE_URI}}{{attachmentsFolderName}}{{file.fileName}}" target="__blank" style="max-width: 100%;word-wrap: break-word;">{{file.fileName}}</a>
                          </div>
              
                        <!-- <div class="col-md-7"> <input [(ngModel)]="file.cmsUrl" placeholder="URL " type="text"></div> -->
                      </div>

                      <div class="col-md-1 m-t-10">
                        <p-checkbox binary="true" [(ngModel)]="file.isDefault" (click)="setDefaultImage(i)"></p-checkbox>
                        <span class="ui-button-icon-left ui-c fa fa-fw fa-close remove-icon" style="cursor: pointer;" (click)="remove(i)"></span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
      </div>
    </div>
    </div>