<p-growl [value]="message" [immutable]="false" life="3000"></p-growl>

<nav role="navigation" class="navbar topnavbar">
  <div class="navbar-header ">
    <h1 class="custom-h1"> Liamtra Admin Portal </h1>
  </div>

  <div class="nav-wrapper">
  </div>
</nav>

<div>
  <div id="content" class="container" style="padding:0px">
    <div class="row">
      <div class="col-xs-12 col-sm-12 col-md-5 col-lg-12">
        <div>
          <div class="col-lg-offset-4 col-lg-4 custom-marginTop50">
            <div class="panel panel-flat customBorder">
              <div class="">
                <a class="customImage">
                  <img src="../../assets/img/logo.png" style="width: 38%;margin-left: 12%;" alt="Image" class="customImgHeight">
                </a>
                <p class="text-center pv custom-marginTop28">FORGOT PASSWORD</p>
              </div>

              <div class="panel-body custom-paddingTop">
                <form *ngIf="forgetPasswordBlock" role="form" #myForm="ngForm" novalidate class="mb-lg smart-form" method="post" id="login-form">
                  <span style="color:red"></span>

                  <div class="form-group has-feedback">
                    <div *ngIf="isLoginFail" class="text-danger" style="font-size: small">
                      Invalid Login
                    </div>
                  </div>

                  <div class="form-group has-feedback">
                    <input id="Text1" name="UserName" [ngClass]="{'successUserTextBox': forgotPassword.userName && forgotPassword.userName.trim()!='', 'warnUserTextBox': (!npiVar.pristine || myForm.submitted) && npiVar.errors && npiVar.errors.required  || (forgotPassword.userName && forgotPassword.userName.trim()=='') }"
                      type="text" #npiVar="ngModel" [(ngModel)]="forgotPassword.userName" placeholder="E-mail/Phone-No" class="form-control"
                      required>
                    <span class="fa fa-envelope form-control-feedback text-muted"></span>
                    <div [hidden]="npiVar.pristine && !myForm.submitted && (!forgotPassword.UserName )">
                      <div *ngIf="npiVar.errors  || (forgotPassword.userName && forgotPassword.userName.trim()=='')" class="text-danger">
                        Please enter your e-mail.
                      </div>
                    </div>
                  </div>

                  <button type="submit" class="btn btn-block btn-primary mt-lg" (click)="forgetPasssword()">Reset Password</button>
                  <a class="btn btn-block btn-primary mt-lg" (click)="onLogin()">Login</a>

                </form>

                <div class="login-left" *ngIf="emailVerifyBlock">
                  <p style="color:#4F8FC9;font-weight: 700;text-align: center">A link, has been sent to the entered Email Id. Please note, the link is valid only for the next 15 Minutes.
                  </p>
                  <p style="color:#B3B3B3;margin-bottom: 0;text-align: center">
                    If you do not receive the confirmation email within the next hour
                  </p>
                  <p style="color:#B3B3B3;margin: 0;text-align: center">
                    please check your Bulk or Junk Mail folder and
                  </p>
                  <p style="color:#B3B3B3;margin-top: 0;text-align: center">
                    update your rules to allow emails from "options@liamtra.com".
                  </p>
                  <a class="btn btn-block btn-primary mt-lg" (click)="onLogin()">Return to Login</a>
                </div>

                <div [hidden]="!otpVerifyBlock">
                  <div class="login-left">
                    <p style="color:#4F8FC9;font-weight: 700;text-align: center">Enter an OTP. Which you got on your cell-phone</p>
                    <form class="cd-form">
                      <div>
                        <input id="Text1" name="UserName" type="password" #npiVar="ngModel" [(ngModel)]="otp" placeholder="E-mail/Phone-No" OnlyDecimalNumber="true"
                          placeholder="6 digits of OTP" class="form-control" maxlength="6">
                      </div>
                      <div>
                        <a class="btn btn-block btn-primary mt-lg" (click)="otpVerify()">Reset Password</a>
                        <a class="btn btn-block btn-primary mt-lg" (click)="onLogin()">Return to Login</a>
                      </div>
                    </form>
                  </div>
                </div>

                <div [hidden]="!changePasswordBlock">
                  <div class="login-left">
                    <p style="color:#4F8FC9;font-weight: 700;text-align: center">Enter a new password for your account.</p>
                    <form class="cd-form">
                      <p class="fieldset">
                        <input id="Text1" name="UserName" type="password" #npiVar="ngModel" [(ngModel)]="forgotPassword.password" placeholder="Password"
                          class="form-control" required>
                      </p>
                      <p>
                        <input id="Text1" name="UserName" type="password" #npiVar="ngModel" [(ngModel)]="rePassword" placeholder="Confirm Password" class="form-control"
                          required>
                      </p>
                      <p class="fieldset">
                        <a class="btn btn-block btn-primary mt-lg" (click)="changePasswordEvent()">Change Password</a>
                        <!-- <input class="full-width" type="submit" value="Reset Password" (click)="changePasswordEvent()"> -->
                      </p>
                      <p class="fieldset">
                        <a class="btn btn-block btn-primary mt-lg" (click)="changeBlockVisiblity('forgetPasswordBlock')">Return to Login</a>
                        <!-- <input style="background-color:#DD4B39" class="full-width" type="submit" value="Back" (click)="changeBlockVisiblity('forgetPasswordBlock')"> -->
                      </p>
                    </form>
                  </div>
                </div>

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<footer class="custom-footer">
  <span>Liamtra Â© 2018</span>
</footer>